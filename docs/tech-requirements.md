# Техническое решение

## **Кратко основная идея реализации**

В результате реализации будет доступен новый сервис, работающий для компании.

## **Изменяемые микросервисы или инфраструктурные сервисы**

Для реализации сервиса предлагается следующий стек технологий:

- **Backend:**
    - Язык: Rust
    - Фреймворк: Actix
    - БД: PostgreSQL, которая будет удаленно работать на сервере компании
    - ORM: Diesel
- **Frontend:**
    - Технологии: Inferno.js
    - Скриптовый язык: TypeScript - статика для работы с сервером

## **Особенности деплоя**

Будут разработаны Dockerfile для сборки образа сервиса, манифесты - для деплоя в кластерах Kubernetes/Docker Swarm.

## **Контракт взаимодействия с клиентами**

- Метод для создания поста. createPost
- Метод для удаления задачи. Принимает на вход ID удаляемого поста. deletePost
- Метод для получения постов. getPosts
- Метод для редактирования поста. Принимает на вход ID поста. editPost
- Метод авторизации пользователя. Будет принимать на вход логин и пароль. authorize

## **Детальное описание ТР**

Будет создан новый сервис - `horizont-web` в рамках которого будет реализован функционал веб-сайта.

Нужно реализовать функции регистрации и авторизации.

### Регистрация

Регистрацию планируется реализовать с помощью ввода логина, имени, фамилии, пароля и подтверждения пароля. Все поля обязательны для заполнения.

В качестве логина будет использоваться почта, указанная пользователем. Система автоматически проведет проверку существования почты.

Поля "Имя" и "Фамилия" могут быть заполнены латиницей, кириллицей, и специальным символом `-`.
Поле "Пароль" может быть заплнено латиницей (заглавные, строчные буквы), числами и специальными символами.
Поле "Подтверждение пароля" сравнивает идентичность введенного в данном поле и в поле "Пароль". Максимальная длина пароля составит 256 символов.
Для этих полей сервис будет автоматически проверять наличие запрещенных символов.

После заполнения всех обязательных полей корректными данными появится возможность нажать на кнопку "Зарегистрироваться", после чего потребуется подтвердить почту и создание учетной записи с помощью перехода по ссылке в письме, которое прийдет на указанную почту.

### Авторизация

Авторизацию планируется реализовать с помощью предоставления логина и пароля пользователем на интерфейсе.

В качестве логина сервер будет ожидать email. Далее необходимо нажать на кнопку "Войти", чтобы войти в учетную запись.

### Новости

**Пост** - сущность, создаваемая привилегированным пользователем.

- Привилегированный пользователь должен иметь возможность создавать, редактировать и удалять новостные посты.
- Посты должны иметь следующие поля: ID (обязательно, присваивается автоматически), описание (обязательно), медиа-контент (необязательно), прикрепленные файлы (необязательно).

### Форум

**Топик** - сущность, создаваемая пользователем.

Другие зарегистрированные пользователи могут участвовать в обсуждении топика

## **Использованная литература**

- https://www.rust-lang.org/learn
- https://actix.rs/docs/
- http://diesel.rs/guides/getting-started.html
- https://www.typescriptlang.org/docs/
- https://www.infernojs.org/docs
